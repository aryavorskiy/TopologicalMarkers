<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · TopologicalMarkers.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TopologicalMarkers.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Calculate</span><ul><li><a class="tocitem" href="../operators/">Linear operators</a></li><li><a class="tocitem" href="../evolution/">Unitary evolution</a></li></ul></li><li><a class="tocitem" href="../visual/">Visualize</a></li><li class="is-active"><a class="tocitem" href>Library</a><ul class="internal"><li><a class="tocitem" href="#Hamiltonian-matrix"><span>Hamiltonian matrix</span></a></li><li><a class="tocitem" href="#Other-linear-operators"><span>Other linear operators</span></a></li><li><a class="tocitem" href="#bianca_resta_currents"><span>Bianca-Resta currents</span></a></li><li><a class="tocitem" href="#Unitary-evolution"><span>Unitary evolution</span></a></li><li><a class="tocitem" href="#Data-visualization"><span>Data visualization</span></a></li><li><a class="tocitem" href="#Plotting-shorthands"><span>Plotting shorthands</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/master/docs/src/scope.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="TopologicalMarkers.jl"><a class="docs-heading-anchor" href="#TopologicalMarkers.jl">TopologicalMarkers.jl</a><a id="TopologicalMarkers.jl-1"></a><a class="docs-heading-anchor-permalink" href="#TopologicalMarkers.jl" title="Permalink"></a></h1><ul><li><a href="#TopologicalMarkers.CoordinateRepr"><code>TopologicalMarkers.CoordinateRepr</code></a></li><li><a href="#TopologicalMarkers.coord_operators"><code>TopologicalMarkers.coord_operators</code></a></li><li><a href="#TopologicalMarkers.currents"><code>TopologicalMarkers.currents</code></a></li><li><a href="#TopologicalMarkers.domains!"><code>TopologicalMarkers.domains!</code></a></li><li><a href="#TopologicalMarkers.evolution_operator"><code>TopologicalMarkers.evolution_operator</code></a></li><li><a href="#TopologicalMarkers.field!"><code>TopologicalMarkers.field!</code></a></li><li><a href="#TopologicalMarkers.filled_projector"><code>TopologicalMarkers.filled_projector</code></a></li><li><a href="#TopologicalMarkers.hamiltonian"><code>TopologicalMarkers.hamiltonian</code></a></li><li><a href="#TopologicalMarkers.heatmap_data"><code>TopologicalMarkers.heatmap_data</code></a></li><li><a href="#TopologicalMarkers.optimal_layout"><code>TopologicalMarkers.optimal_layout</code></a></li><li><a href="#TopologicalMarkers.plot_auto"><code>TopologicalMarkers.plot_auto</code></a></li><li><a href="#TopologicalMarkers.plot_boundaries!"><code>TopologicalMarkers.plot_boundaries!</code></a></li><li><a href="#TopologicalMarkers.plot_figure!"><code>TopologicalMarkers.plot_figure!</code></a></li><li><a href="#TopologicalMarkers.quiver_data"><code>TopologicalMarkers.quiver_data</code></a></li><li><a href="#TopologicalMarkers.@J_b-NTuple{4, Any}"><code>TopologicalMarkers.@J_b</code></a></li><li><a href="#TopologicalMarkers.@J_c-NTuple{4, Any}"><code>TopologicalMarkers.@J_c</code></a></li><li><a href="#TopologicalMarkers.@J_eq-NTuple{4, Any}"><code>TopologicalMarkers.@J_eq</code></a></li><li><a href="#TopologicalMarkers.@J_inv-NTuple{4, Any}"><code>TopologicalMarkers.@J_inv</code></a></li><li><a href="#TopologicalMarkers.@J_m-NTuple{4, Any}"><code>TopologicalMarkers.@J_m</code></a></li><li><a href="#TopologicalMarkers.@J_m_tr-NTuple{4, Any}"><code>TopologicalMarkers.@J_m_tr</code></a></li><li><a href="#TopologicalMarkers.@J_treq-NTuple{4, Any}"><code>TopologicalMarkers.@J_treq</code></a></li><li><a href="#TopologicalMarkers.@currents-Tuple{Any}"><code>TopologicalMarkers.@currents</code></a></li><li><a href="#TopologicalMarkers.@evolution"><code>TopologicalMarkers.@evolution</code></a></li><li><a href="#TopologicalMarkers.@flux"><code>TopologicalMarkers.@flux</code></a></li><li><a href="#TopologicalMarkers.@landau"><code>TopologicalMarkers.@landau</code></a></li><li><a href="#TopologicalMarkers.@symm"><code>TopologicalMarkers.@symm</code></a></li></ul><h2 id="Hamiltonian-matrix"><a class="docs-heading-anchor" href="#Hamiltonian-matrix">Hamiltonian matrix</a><a id="Hamiltonian-matrix-1"></a><a class="docs-heading-anchor-permalink" href="#Hamiltonian-matrix" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.hamiltonian" href="#TopologicalMarkers.hamiltonian"><code>TopologicalMarkers.hamiltonian</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">hamiltonian{T}(m_repr; &lt;keyword arguments&gt;)
hamiltonian{T}(m_lattice, repr_spec; &lt;keyword arguments&gt;)</code></pre><p>Generates a Hamiltonian operator for a Chern insulator using the following formula</p><p class="math-container">\[\hat{H} =
\sum_i m_i c^\dagger_i \sigma_z c_i +
\sum_{x-links} c^\dagger_i \frac{\sigma_z - i \sigma_x}{2} c_j +
\sum_{y-links} c^\dagger_i \frac{\sigma_z - i \sigma_y}{2} c_j +
h. c.\]</p><p><strong>Arguments</strong></p><ul><li><code>m_repr</code>: The value of <code>m</code> on different sites, in <code>CoordinateRepr</code> format</li></ul><p>Alternatively, pass a matrix and a representation specifier (see <code>CoordinateRepr</code> for more information)</p><p><strong>Keyword arguments</strong></p><ul><li><code>pbc</code>: Periodic boundary conditions. A <code>Tuple{Bool, Bool}</code>, each element sets boundary conditions for the horizontal and vertical edge respectively. Default is <code>(false, false)</code></li><li><code>domains</code>: A matrix with elements of arbitrary type, which maps sites to isolated domains. The hopping members between different domains are erased. There are no isolated domains by default</li><li><code>field</code>: A function/lambda that takes two coordinates and returns the vector potential of the magnetic field. Used to calculate phase factors on hoppings. There is no magnetic field by default</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/hamiltonian.jl#L111-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.field!" href="#TopologicalMarkers.field!"><code>TopologicalMarkers.field!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">field!(H, A[, lattice_size]; intervals = 10)</code></pre><p>Applies magnetic field to specified hamiltonian. In other words, all hoppings get multiplied on a specific phase factor that can be calculated using Peierls substitution:</p><p class="math-container">\[\varphi_{ij} = 2\pi \int_i^j A(r) \cdot dr\]</p><p>This integral is calculated explicitly for every hopping, using the <code>A</code> function.</p><p><strong>Arguments</strong></p><ul><li><code>H</code>: the hamiltonian matrix</li><li><code>A</code>: a function that takes a <code>Vector</code> representing a point and returns a <code>Vector</code> representing the vector potential in that point</li><li><code>lattice_size</code>: the size of the lattice the hamiltonian is defined for. If not provided, this function will use the value for the hamiltonian matrix that was created last</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>intervals</code>: the number of intervals to use when calculating the Peierls substitution phase factor</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/hamiltonian.jl#L35-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.domains!" href="#TopologicalMarkers.domains!"><code>TopologicalMarkers.domains!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">domains!(H, domain_mapping, repr_spec)
domains!(H, domain_mapping_repr)</code></pre><p>Divides the Chern insulator hamiltonian into several unconnected domains. The hoppings between these domains are erased.</p><p><strong>Arguments</strong></p><ul><li><code>H</code>: the hamiltonian matrix</li><li><code>domain_mapping_repr</code>: an object of type <code>CoordinateRepr{Symbol}</code>. Each site is mapped to a symbol, different symbols mean different domains</li><li><code>domain_mapping</code>: domain mapping matrix. Each site is mapped to a symbol, different symbols mean different domains</li><li><code>repr_spec</code>: representation specifier for the <code>domain_mapping</code> (see <code>CoordinateRepr</code> docs for more information)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/hamiltonian.jl#L78-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@landau" href="#TopologicalMarkers.@landau"><code>TopologicalMarkers.@landau</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@landau(B)</code></pre><p>Generates a function that returns the Landau gauge vector potential. This can be used as an argument for the <code>field!</code> function.</p><p><strong>Arguments</strong></p><ul><li><code>B</code>: the magnetic field value</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/field.jl#L4-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@symm" href="#TopologicalMarkers.@symm"><code>TopologicalMarkers.@symm</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@symm(B[, center])</code></pre><p>Generates a function that returns the symmetric gauge vector potential. This can be used as an argument for the <code>field!</code> function.</p><p><strong>Arguments</strong></p><ul><li><code>B</code>: the value of magnetic field</li><li><code>center</code>: the center of symmetry of the vector potential</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/field.jl#L17-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@flux" href="#TopologicalMarkers.@flux"><code>TopologicalMarkers.@flux</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">flux(Φ[, point])</code></pre><p>Generates a function that returns the vector potential for a flux quantum. This can be used as an argument for the <code>field!</code> function.</p><p><strong>Arguments</strong></p><ul><li><code>Φ</code>: the value of magnetic field</li><li><code>point</code>: the point where the flux is located</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/field.jl#L41-L48">source</a></section></article><h2 id="Other-linear-operators"><a class="docs-heading-anchor" href="#Other-linear-operators">Other linear operators</a><a id="Other-linear-operators-1"></a><a class="docs-heading-anchor-permalink" href="#Other-linear-operators" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.coord_operators" href="#TopologicalMarkers.coord_operators"><code>TopologicalMarkers.coord_operators</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">coord_operators([lattice_size]; symmetric = true)</code></pre><p>Returns a tuple of coordinate operators (i. e. <span>$\hat{X}$</span> and <span>$\hat{Y}$</span>).</p><p><strong>Arguments</strong></p><ul><li><code>lattice_size</code>: the size of the lattice</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>symmetric</code>: true if the operator is symmetrically defined (in other words, the central site of the lattice corresponds to <code>(0, 0)</code>), false otherwise. True by default</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/operators.jl#L3-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.filled_projector" href="#TopologicalMarkers.filled_projector"><code>TopologicalMarkers.filled_projector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">filled_projector(H; &lt;keyword arguments&gt;)</code></pre><p>Returns a projector onto the filled states (in other words - a density matrix of the ground state).</p><p><strong>Arguments</strong></p><ul><li><code>H</code>: the hamiltonian matrix</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>fermi_energy</code>: the Fermi energy level. 0 by default</li><li><code>T</code>: temperature of the system, in energy units. 0 by default.</li></ul><p>If value is non-zero, the state density will correspond to the Fermi-Dirac distribution</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/operators.jl#L32-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.currents" href="#TopologicalMarkers.currents"><code>TopologicalMarkers.currents</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">currents(H, P[, lattice_size])</code></pre><p>Returns a skew-symmetric matrix of electric currents between sites.</p><p><strong>Arguments</strong></p><ul><li><code>H</code>: the hamiltonian matrix</li><li><code>P</code>: the density matrix</li><li><code>lattice_size</code>: the size of the lattice the hamiltonian is defined for</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/operators.jl#L55-L64">source</a></section></article><h2 id="bianca_resta_currents"><a class="docs-heading-anchor" href="#bianca_resta_currents">Bianca-Resta currents</a><a id="bianca_resta_currents-1"></a><a class="docs-heading-anchor-permalink" href="#bianca_resta_currents" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@J_b-NTuple{4, Any}" href="#TopologicalMarkers.@J_b-NTuple{4, Any}"><code>TopologicalMarkers.@J_b</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@J_b(H, P, X, Y)</code></pre><p>Calculates the sum of <code>@J_c</code> and <code>@J_m</code> currents.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L175-L179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@J_c-NTuple{4, Any}" href="#TopologicalMarkers.@J_c-NTuple{4, Any}"><code>TopologicalMarkers.@J_c</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@J_c(H, P, X, Y)</code></pre><p>Calculates the Bianca-Resta current part using the following formula:</p><p class="math-container">\[J_c(r, r&#39;) = \\ 4\pi ( 
\langle r | PXPYP | r&#39; \rangle \langle r&#39; | H | r \rangle -
\langle r | H | r&#39; \rangle \langle r&#39; | PXPYP | r \rangle
)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L5-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@J_eq-NTuple{4, Any}" href="#TopologicalMarkers.@J_eq-NTuple{4, Any}"><code>TopologicalMarkers.@J_eq</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@J_eq(H, P, X, Y)</code></pre><p>Calculates the Bianca-Resta current using the following formula:</p><p class="math-container">\[J_{eq}(r, r&#39;) = \\ 4\pi ( 
\langle r | [P,H]XP | r&#39; \rangle \langle r&#39; | PYP | r \rangle -
\langle r | PYP | r&#39; \rangle \langle r&#39; | [P,H]XP | r \rangle \\ -
\langle r | [P,H]YP | r&#39; \rangle \langle r&#39; | PXP | r \rangle +
\langle r | PXP | r&#39; \rangle \langle r&#39; | [P,H]YP | r \rangle
)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L51-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@J_inv-NTuple{4, Any}" href="#TopologicalMarkers.@J_inv-NTuple{4, Any}"><code>TopologicalMarkers.@J_inv</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@J_inv(H, P, X, Y)</code></pre><p>Calculates the sum of <code>@J_c</code> and <code>@J_m_inv</code> currents.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@J_m-NTuple{4, Any}" href="#TopologicalMarkers.@J_m-NTuple{4, Any}"><code>TopologicalMarkers.@J_m</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@J_m(H, P, X, Y)</code></pre><p>Calculates the Bianca-Resta current part using the following formula:</p><p class="math-container">\[J_m(r, r&#39;) = \\ 4\pi ( 
\langle r | PHXP | r&#39; \rangle \langle r&#39; | PYP | r \rangle -
\langle r | PYP | r&#39; \rangle \langle r&#39; | PHXP | r \rangle \\ -
\langle r | PHYP | r&#39; \rangle \langle r&#39; | PXP | r \rangle +
\langle r | PXP | r&#39; \rangle \langle r&#39; | PHYP | r \rangle
)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L25-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@J_m_tr-NTuple{4, Any}" href="#TopologicalMarkers.@J_m_tr-NTuple{4, Any}"><code>TopologicalMarkers.@J_m_tr</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@J_m_tr(H, P, X, Y)</code></pre><p>Calculates the Bianca-Resta current part using the following formula:</p><p class="math-container">\[J_{m_{tr}}(r, r&#39;) = \\ 4\pi ( 
\langle r | P | r&#39; \rangle \langle r&#39; | [H,X] PYP | r \rangle -
\langle r | [H,X] PYP | r&#39; \rangle \langle r&#39; | P | r \rangle \\ -
\langle r | PYP | r&#39; \rangle \langle r&#39; | [H,X] P | r \rangle +
\langle r | [H,X] P | r&#39; \rangle \langle r&#39; | PYP | r \rangle \\ -
\langle r | P | r&#39; \rangle \langle r&#39; | [H,Y] PXP | r \rangle +
\langle r | [H,Y] PXP | r&#39; \rangle \langle r&#39; | P | r \rangle \\ +
\langle r | PXP | r&#39; \rangle \langle r&#39; | [H,Y] P | r \rangle -
\langle r | [H,Y] P | r&#39; \rangle \langle r&#39; | PXP | r \rangle
)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L77-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@J_treq-NTuple{4, Any}" href="#TopologicalMarkers.@J_treq-NTuple{4, Any}"><code>TopologicalMarkers.@J_treq</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@J_treq(H, P, X, Y)</code></pre><p>Calculates the Bianca-Resta current using the following formula:</p><p class="math-container">\[J_{treq}(r, r&#39;) = \\ 4\pi ( 
\langle r | [H,P] P | r&#39; \rangle \langle r&#39; | PXPYP | r \rangle -
\langle r | PXPYP | r&#39; \rangle \langle r&#39; | [H,P] P | r \rangle \\ -
\langle r | [H,P] P | r&#39; \rangle \langle r&#39; | PYPXP | r \rangle +
\langle r | PYPXP | r&#39; \rangle \langle r&#39; | [H,P] P | r \rangle \\ +
\langle r | P | r&#39; \rangle \langle r&#39; | [H,P] XPYP | r \rangle -
\langle r | [H,P] XPYP | r&#39; \rangle \langle r&#39; | P | r \rangle \\ +
\langle r | P [H,P] XP | r&#39; \rangle \langle r&#39; | PYP | r \rangle -
\langle r | PYP | r&#39; \rangle \langle r&#39; | P [H,P] XP | r \rangle \\ -
\langle r | P | r&#39; \rangle \langle r&#39; | [H,P] YPXP | r \rangle +
\langle r | [H,P] YPXP | r&#39; \rangle \langle r&#39; | P | r \rangle \\ -
\langle r | P [H,P] YP | r&#39; \rangle \langle r&#39; | PXP | r \rangle +
\langle r | PXP | r&#39; \rangle \langle r&#39; | P [H,P] YP | r \rangle
)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L115-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@currents-Tuple{Any}" href="#TopologicalMarkers.@currents-Tuple{Any}"><code>TopologicalMarkers.@currents</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@currents(currents_lambda)</code></pre><p>Generates a matrix with currents, given a lambda/macro call that takes lattice site indices and returns the current value.</p><p><strong>Example usage:</strong></p><p><code>currents_mat = @currents @J_b H P X Y</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/formulas/lcm_currents.jl#L189-L197">source</a></section></article><h2 id="Unitary-evolution"><a class="docs-heading-anchor" href="#Unitary-evolution">Unitary evolution</a><a id="Unitary-evolution-1"></a><a class="docs-heading-anchor-permalink" href="#Unitary-evolution" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.evolution_operator" href="#TopologicalMarkers.evolution_operator"><code>TopologicalMarkers.evolution_operator</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">evolution_operator(H, t)</code></pre><p>Calculates the unitary evolution operator using the formula</p><p>$ \mathcal{U}(t) = e^{-\frac{1}{i\hbar} \hat{H} t} $</p><p><strong>Arguments</strong></p><ul><li><code>H</code>: the hamiltonian matrix</li><li><code>t</code>: the evolution time</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/evolution.jl#L41-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.@evolution" href="#TopologicalMarkers.@evolution"><code>TopologicalMarkers.@evolution</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@evolution [rules...] for_loop</code></pre><p>Generates an environment with defined hamiltonian and density matrices that evolve by certain laws. See <a href="../evolution/">Unitary evolution</a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/evolution.jl#L66-L71">source</a></section></article><h2 id="Data-visualization"><a class="docs-heading-anchor" href="#Data-visualization">Data visualization</a><a id="Data-visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Data-visualization" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.CoordinateRepr" href="#TopologicalMarkers.CoordinateRepr"><code>TopologicalMarkers.CoordinateRepr</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CoordinateRepr{T}</code></pre><p>A wrapper struct for matrices to be conveniently plotted.</p><p><strong>Arguments</strong></p><ul><li><code>lattice</code>: A matrix representing some quantity defined on the lattice (e. g. the LCM)</li><li><code>repr_spec</code>: A symbol defining the way how the lattice sites match the matrix values:<ul><li><code>:c</code> or <code>:coord</code>: The value for <code>(x, y)</code> site is <code>A[x, y]</code>. This is the default value</li><li><code>:n</code> of <code>:natural</code>: If you print out the matrix as you usually do, and then imagine</li></ul>a coordinate system with its center in the bottom-left corner, this will be the mapping between   sites and matrix values</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/visual.jl#L11-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.heatmap_data" href="#TopologicalMarkers.heatmap_data"><code>TopologicalMarkers.heatmap_data</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">heatmap_data(op[, lattice_size])</code></pre><p>Generates a CoordinateRepr for coordinate representation traces: <span>$\langle r | \hat{\mathcal{O}} | r \rangle$</span>.</p><p><strong>Arguments</strong></p><ul><li><code>op</code>: the operator to find values for</li><li><code>lattice_size</code>: the size of the lattice</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/visual.jl#L46-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.quiver_data" href="#TopologicalMarkers.quiver_data"><code>TopologicalMarkers.quiver_data</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">quiver_data(currents_mat[, lattice_size]; &lt;keyword arguments&gt;)</code></pre><p>Generates data for a quiver plot using a matrix with currents. The output is a tuple of two vectors with equal length: one contains arrow origins, the other one - arrow vectors.</p><p><strong>Arguments</strong></p><ul><li><code>currents_mat</code>: a matrix with currents</li><li><code>lattice_size</code>: the size of the lattice</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>threshold</code>: minimum value of the current to be put to output. Default is <code>0.1</code></li><li><code>dist_threshold</code>: maximum distance between sites for which the current will be evaluated. Infinite by default</li><li><code>xlims</code> and <code>ylims</code>: limit the area in which the currents will be evaluated. Infinite by default</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/visual.jl#L81-L95">source</a></section></article><h2 id="Plotting-shorthands"><a class="docs-heading-anchor" href="#Plotting-shorthands">Plotting shorthands</a><a id="Plotting-shorthands-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-shorthands" title="Permalink"></a></h2><p>These functions may come in handy when you want to plot many heatmaps and electric current diagrams in one line.</p><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.plot_boundaries!" href="#TopologicalMarkers.plot_boundaries!"><code>TopologicalMarkers.plot_boundaries!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_boundaries!([pl, ]domain_mapping; &lt;keyword arguments&gt;)</code></pre><p>Draws boundaries between different domains described by the <code>domain_mapping</code> matrix.</p><p><strong>Arguments</strong></p><ul><li><code>pl</code>: a <code>Plots.Plot</code> object to visualize data on</li><li><code>domain_mapping</code>: a <code>CoordinateRepr</code> object that represents domain mapping. The boundaries between different domains will be drawn</li></ul><p>All keyword arguments will be passed to the <code>plot!</code> function used for drawing - this can be used to change the line thickness or style, for example.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/plot.jl#L7-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.plot_figure!" href="#TopologicalMarkers.plot_figure!"><code>TopologicalMarkers.plot_figure!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_figure!(pl; &lt;keyword arguments&gt;)</code></pre><p>Plots complicated splitline data series (heatmap, boundaries, quiver) on a single figure.</p><p><strong>Arguments</strong></p><ul><li><code>pl</code>: a <code>Plots.Plot</code> object to visualize data on</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>hmap</code>: data to be visualized on a heatmap. It can be a <code>CoordinateRepr</code> object (then it will be plotted directly)</li></ul><p>or a linear operator matrix (then the <code>CoordinateRepr</code> will be generated automatically)</p><ul><li><code>domain_mapping</code>: a <code>CoordinateRepr</code> object that represents domain mapping. The boundaries between different domains will be drawn.</li><li><code>currents</code>: a matrix containing currents between sites</li><li><code>xlims</code> and <code>ylims</code>: objects of type <code>Tuple{Int, Int}</code> that define the limits of the x- and y- axes respectively</li></ul><p>All other keyword arguments with the following prefixes are passed to the <code>plot!</code> function:</p><ul><li><code>hmap</code> for the heatmap</li><li><code>bounds</code> for the boundaries</li><li><code>currents</code> for the quiver</li></ul><p>This can be used to style the plot. For example, this line will result in the domain boundaries being drawn in dot style, the limits of the heatmap will be set from -3 to 3, and the arrows depicting the currents will be blue:</p><p><code>plot_figure!(..., hmapclims=(-3, 3), boundsstyle=:dot, :currentscolor=:green)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/plot.jl#L112-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.optimal_layout" href="#TopologicalMarkers.optimal_layout"><code>TopologicalMarkers.optimal_layout</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">optimal_layout(figures_total; &lt;keyword arguments&gt;)</code></pre><p>Generates optimal layout for multiple figures in a plot.</p><p><strong>Arguments</strong></p><ul><li><code>figures_total</code>: the number of figures to place on the plot</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>plot_aspect_ratio</code>: The aspect ratio of the plot. 1:1 by default</li><li><code>figure_aspect_ratio</code>: the aspect ratio of one figure of the plot. 7:5 by default</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/plot.jl#L75-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TopologicalMarkers.plot_auto" href="#TopologicalMarkers.plot_auto"><code>TopologicalMarkers.plot_auto</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_auto(&lt;arguments&gt;; &lt;keyword arguments&gt;)</code></pre><p>Plots multiple heatmaps, cutaway views or currents simultaneously.</p><p>The subplots are automatically arranged into an optimal layout.</p><p><strong>Arguments</strong></p><p>Each argument can be either a <code>CoordinateRepr</code> object or a chain of pairs.</p><p><strong>Keyword arguments</strong></p><ul><li><code>layout</code>: a <code>Plots.Layout</code> object to use. If not specified, an optimal layout will be</li></ul><p>generated depending on the plot size.</p><ul><li><code>plot_size</code>: actual size of the plot. If not specified, then the <code>layout</code> parameter will</li></ul><p>be ignored and the size will be optimal for the layout</p><ul><li><code>title</code>: the title of the graph</li><li><code>cutaway_view</code>: <code>Tuple</code> that indicates which cutaway view should be</li></ul><p>drawn on a separate figure</p><ul><li><code>cutaway_views</code>: Same as previous, but many of them</li></ul><p>All other keyword arguments with the following prefixes are passed to the <code>plot!</code> function:</p><ul><li><code>hmap</code> for the heatmap</li><li><code>bounds</code> for the boundaries</li><li><code>currents</code> for the quiver</li><li><code>cutaway</code> for the cutaway figure</li><li><code>splitline</code> for the line on all figures that shows the plane of the cutaway views</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/TopologicalMarkers/blob/8e41a2f56aa1e507d256fe1dd8afc657edf07ef7/src/plot.jl#L162-L189">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../visual/">« Visualize</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Thursday 2 December 2021 22:27">Thursday 2 December 2021</span>. Using Julia version 1.6.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
